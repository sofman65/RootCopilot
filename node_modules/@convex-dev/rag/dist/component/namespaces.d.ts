import type { Doc, Id } from "./_generated/dataModel.js";
import { type QueryCtx } from "./_generated/server.js";
import { type Namespace } from "../shared.js";
import type { ObjectType } from "convex/values";
export declare const vNamespaceLookupArgs: {
    namespace: import("convex/values").VString<string, "required">;
    modelId: import("convex/values").VString<string, "required">;
    dimension: import("convex/values").VFloat64<number, "required">;
    filterNames: import("convex/values").VArray<string[], import("convex/values").VString<string, "required">, "required">;
};
export declare const get: import("convex/server").RegisteredQuery<"public", {
    namespace: string;
    filterNames: string[];
    dimension: number;
    modelId: string;
}, Promise<{
    namespaceId: string & {
        _: "NamespaceId";
    };
    createdAt: number;
    namespace: string;
    status: "pending" | "ready" | "replaced";
    filterNames: string[];
    dimension: number;
    modelId: string;
    version: number;
} | null>>;
export declare const getCompatibleNamespace: import("convex/server").RegisteredQuery<"internal", {
    namespace: string;
    filterNames: string[];
    dimension: number;
    modelId: string;
}, Promise<{
    _id: import("convex/values").GenericId<"namespaces">;
    _creationTime: number;
    namespace: string;
    status: {
        onComplete?: string | undefined;
        kind: "pending";
    } | {
        kind: "ready";
    } | {
        replacedAt: number;
        kind: "replaced";
    };
    filterNames: string[];
    dimension: number;
    modelId: string;
    version: number;
} | null>>;
export declare function getCompatibleNamespaceHandler(ctx: QueryCtx, args: ObjectType<typeof vNamespaceLookupArgs>): Promise<{
    _id: import("convex/values").GenericId<"namespaces">;
    _creationTime: number;
    namespace: string;
    status: {
        onComplete?: string | undefined;
        kind: "pending";
    } | {
        kind: "ready";
    } | {
        replacedAt: number;
        kind: "replaced";
    };
    filterNames: string[];
    dimension: number;
    modelId: string;
    version: number;
} | null>;
export declare const lookup: import("convex/server").RegisteredQuery<"public", {
    namespace: string;
    filterNames: string[];
    dimension: number;
    modelId: string;
}, Promise<import("convex/values").GenericId<"namespaces"> | null>>;
export declare const getOrCreate: import("convex/server").RegisteredMutation<"public", {
    onComplete?: string | undefined;
    namespace: string;
    status: "pending" | "ready";
    filterNames: string[];
    dimension: number;
    modelId: string;
}, Promise<{
    namespaceId: import("convex/values").GenericId<"namespaces">;
    status: "pending" | "ready";
}>>;
export declare const promoteToReady: import("convex/server").RegisteredMutation<"public", {
    namespaceId: Id<"namespaces">;
}, Promise<{
    replacedNamespace: {
        namespaceId: string & {
            _: "NamespaceId";
        };
        createdAt: number;
        namespace: string;
        status: "pending" | "ready" | "replaced";
        filterNames: string[];
        dimension: number;
        modelId: string;
        version: number;
    } | null;
}>>;
export declare const list: import("convex/server").RegisteredQuery<"public", {
    status: "pending" | "ready" | "replaced";
    paginationOpts: {
        id?: number;
        endCursor?: string | null;
        maximumRowsRead?: number;
        maximumBytesRead?: number;
        numItems: number;
        cursor: string | null;
    };
}, Promise<{
    page: {
        namespaceId: string & {
            _: "NamespaceId";
        };
        createdAt: number;
        namespace: string;
        status: "pending" | "ready" | "replaced";
        filterNames: string[];
        dimension: number;
        modelId: string;
        version: number;
    }[];
    isDone: boolean;
    continueCursor: import("convex/server").Cursor;
    splitCursor?: import("convex/server").Cursor | null;
    pageStatus?: "SplitRecommended" | "SplitRequired" | null;
}>>;
export declare const listNamespaceVersions: import("convex/server").RegisteredQuery<"public", {
    namespace: string;
    paginationOpts: {
        id?: number;
        endCursor?: string | null;
        maximumRowsRead?: number;
        maximumBytesRead?: number;
        numItems: number;
        cursor: string | null;
    };
}, Promise<{
    page: {
        namespaceId: string & {
            _: "NamespaceId";
        };
        createdAt: number;
        namespace: string;
        status: "pending" | "ready" | "replaced";
        filterNames: string[];
        dimension: number;
        modelId: string;
        version: number;
    }[];
    isDone: boolean;
    continueCursor: import("convex/server").Cursor;
    splitCursor?: import("convex/server").Cursor | null;
    pageStatus?: "SplitRecommended" | "SplitRequired" | null;
}>>;
export declare function publicNamespace(namespace: Doc<"namespaces">): Namespace;
export declare const deleteNamespace: import("convex/server").RegisteredMutation<"public", {
    namespaceId: Id<"namespaces">;
}, Promise<{
    deletedNamespace: {
        namespaceId: string & {
            _: "NamespaceId";
        };
        createdAt: number;
        namespace: string;
        status: "pending" | "ready" | "replaced";
        filterNames: string[];
        dimension: number;
        modelId: string;
        version: number;
    };
}>>;
export declare const deleteNamespaceSync: import("convex/server").RegisteredAction<"public", {
    namespaceId: import("convex/values").GenericId<"namespaces">;
}, Promise<void>>;
//# sourceMappingURL=namespaces.d.ts.map